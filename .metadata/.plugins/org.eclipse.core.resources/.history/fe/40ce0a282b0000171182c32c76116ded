#include <xs1.h>
#include <platform.h>
#include <stdlib.h>
#include <stdio.h>
#include <stdint.h>

#include "algs.h"

// bitBuffer is an entire bit image
void FloodFill(uint8_t* unsafe bitBuffer)
{
    // -----------------------
    // Tim your code goes here.
    // -----------------------
}

void FloodFillThread(chanend stream)
{ unsafe {
    while (1==1)
    {
        // Blocking statement that recieves a bit image
        uint8_t* unsafe bitBuffer;
        stream :> bitBuffer;

        uint32_t starttime, endtime;
        timer t;
        t :> starttime;

        FloodFill(bitBuffer);

        t :> endtime;
        printf("Clock ticks (@100Mhz) = %d\n", (endtime - starttime));
    }
}}
