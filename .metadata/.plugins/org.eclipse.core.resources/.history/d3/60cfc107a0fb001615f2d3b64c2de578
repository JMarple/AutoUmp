#include <xs1.h>
#include <platform.h>
#include <stdint.h>

// Contains BT_TX, LED4, LED5 on bit 0, 2, 3 respectively
on tile[0]: out port IOPortOut1 = XS1_PORT_4F;

// Contains Button1, Button2, BT_RX on bit 0, 1, 2 respectively
on tile[0]: in port IOPortIn1 = XS1_PORT_4E;

// XTAG UART Stream
on tile[0]: out port X_TX = XS1_PORT_1M;
on tile[0]: in port X_RX = XS1_PORT_1N;

// LED's are controlled via SDI interface
on tile[0]: out port LED_SDI = XS1_PORT_1J;

// Battery status port, 1 = battery is fine, 0 = battery is low
on tile[0]: in port BAT_STATUS = XS1_PORT_1L;

uint8_t ioPortByte = 0x00;

// Blocking
void SendBluetoothBuffer(uint8_t* buf, int length)
{
    for (int i = 0; i < length; i++)
        SendBluetoothByte(buf[i]);
}

void SendBluetoothByte(uint8_t data)
{
    uint32_t waitAmount = 100;


}
